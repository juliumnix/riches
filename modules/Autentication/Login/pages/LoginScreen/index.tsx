import { StatusBar } from 'expo-status-bar';
import React, { useEffect, useState } from 'react';
import { SvgXml } from 'react-native-svg';
import ModalLogin from '../../components/ModalLogin';
import ModalSignIn from '../../../SignIn/components/ModalSignIn';
import * as S from './styles';
import { Alert, BackHandler } from 'react-native';

function RichesSVG() {
  const svg = `
    <svg width="157" height="45" viewBox="0 0 157 45" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M38.15 29.2C38.5167 27.9667 39.1 27.1333 39.9 26.7C40.7333 26.2667 41.5167 26.15 42.25 26.35C43.0167 26.5167 43.6333 26.9667 44.1 27.7C44.5667 28.4 44.6333 29.2667 44.3 30.3C43.5 32.7667 42.55 34.85 41.45 36.55C40.3833 38.25 39.2167 39.6167 37.95 40.65C36.6833 41.6833 35.3667 42.4167 34 42.85C32.6333 43.3167 31.2667 43.55 29.9 43.55C28.6667 43.55 27.5333 43.3833 26.5 43.05C25.4667 42.7167 24.5667 42.25 23.8 41.65C23.0667 41.0167 22.4833 40.2667 22.05 39.4C21.65 38.5333 21.45 37.55 21.45 36.45C21.45 35.3833 21.6833 34.2333 22.15 33L24 28.3C24.2333 27.7 24.35 27.0833 24.35 26.45C24.35 25.8833 24.1667 25.4167 23.8 25.05C23.4667 24.6833 22.9833 24.4833 22.35 24.45C20.95 24.9167 19.8167 25.1167 18.95 25.05C18.0833 24.95 17.4 24.7333 16.9 24.4C16.4333 24.0333 16.1 23.6 15.9 23.1C15.7333 22.6 15.6333 22.1667 15.6 21.8L8.9 40.7C8.46667 41.8667 7.73333 42.6667 6.7 43.1C5.7 43.5333 4.7 43.6333 3.7 43.4C2.73333 43.2 1.96667 42.7167 1.4 41.95C0.8 41.1833 0.716667 40.1833 1.15 38.95L13.75 3.35C14.1833 2.21666 14.7833 1.43333 15.55 0.999997C16.3167 0.533331 17.1 0.299997 17.9 0.299997C18.7 0.299997 19.4 0.499998 20 0.899999C20.6333 1.26666 21.0167 1.73333 21.15 2.3C21.7167 1.9 22.3 1.6 22.9 1.4C23.5 1.2 24.0667 1.06667 24.6 0.999997C25.1333 0.899999 25.6167 0.866666 26.05 0.899999C26.4833 0.899999 26.8333 0.899999 27.1 0.899999C28.2667 0.966664 29.4 1.2 30.5 1.6C31.6333 2 32.6333 2.55 33.5 3.25C34.3667 3.95 35.05 4.81667 35.55 5.85C36.0833 6.88333 36.35 8.05 36.35 9.35C36.35 10.25 36.2167 11.2167 35.95 12.25C35.7167 13.25 35.3667 14.25 34.9 15.25C34.4667 16.2167 33.9333 17.1333 33.3 18C32.6667 18.8333 31.9667 19.5167 31.2 20.05C31.8 20.6833 32.2667 21.4 32.6 22.2C32.9667 23 33.15 23.9333 33.15 25C33.15 26.2 32.8833 27.45 32.35 28.75L29.9 34.95C29.7333 35.45 29.65 35.8333 29.65 36.1C29.65 36.8333 30.1333 37.2 31.1 37.2C31.6 37.2 32.1333 37.0833 32.7 36.85C33.3 36.5833 33.9 36.15 34.5 35.55C35.1333 34.95 35.75 34.1333 36.35 33.1C36.9833 32.0667 37.5833 30.7667 38.15 29.2ZM16.8 18.35C17.7333 17.15 18.9667 16.4167 20.5 16.15C22.0333 15.8833 23.5667 16.0333 25.1 16.6C25.5333 16.3667 25.9333 16.0167 26.3 15.55C26.6667 15.0833 26.9833 14.5833 27.25 14.05C27.5167 13.4833 27.7167 12.9167 27.85 12.35C27.9833 11.75 28.05 11.2 28.05 10.7C28.05 9.83333 27.7667 9.13333 27.2 8.6C26.6333 8.03333 25.8833 7.73333 24.95 7.7C23.8167 7.66666 22.7167 8.01667 21.65 8.75C20.6167 9.45 19.8 10.3833 19.2 11.55L16.8 18.35ZM49.9949 9.6C48.8616 9.6 47.8949 9.2 47.0949 8.4C46.2949 7.6 45.8949 6.61667 45.8949 5.45C45.8949 4.31667 46.2949 3.36666 47.0949 2.6C47.8949 1.8 48.8616 1.4 49.9949 1.4C51.1283 1.4 52.0949 1.8 52.8949 2.6C53.6949 3.36666 54.0949 4.31667 54.0949 5.45C54.0949 6.61667 53.6949 7.6 52.8949 8.4C52.0949 9.2 51.1283 9.6 49.9949 9.6ZM43.2449 35.1C43.1449 35.4 43.0949 35.6667 43.0949 35.9C43.0949 36.3667 43.2616 36.7667 43.5949 37.1C43.9616 37.4333 44.4283 37.6 44.9949 37.6C45.4949 37.6 46.0283 37.4667 46.5949 37.2C47.1616 36.9 47.7449 36.4167 48.3449 35.75C48.9449 35.0833 49.5449 34.2167 50.1449 33.15C50.7783 32.05 51.3949 30.6833 51.9949 29.05C52.3283 28.1167 52.8949 27.4833 53.6949 27.15C54.4949 26.8167 55.2783 26.7333 56.0449 26.9C56.8116 27.0333 57.4283 27.4 57.8949 28C58.3616 28.5667 58.4449 29.3 58.1449 30.2C57.2783 32.8 56.2949 34.95 55.1949 36.65C54.0949 38.35 52.9449 39.7167 51.7449 40.75C50.5449 41.7833 49.3116 42.5 48.0449 42.9C46.8116 43.3333 45.5783 43.55 44.3449 43.55C43.1783 43.55 42.0783 43.3833 41.0449 43.05C40.0449 42.7167 39.1449 42.2333 38.3449 41.6C37.5783 40.9667 36.9783 40.2 36.5449 39.3C36.0783 38.3667 35.8449 37.3167 35.8449 36.15C35.8449 35.7167 35.9116 35.2 36.0449 34.6C36.1449 34 36.2783 33.45 36.4449 32.95C36.8449 31.7833 37.2616 30.55 37.6949 29.25C38.1616 27.95 38.6283 26.65 39.0949 25.35C39.5616 24.0167 40.0116 22.7 40.4449 21.4C40.9116 20.0667 41.3449 18.8167 41.7449 17.65C42.2116 16.2833 42.9116 15.3333 43.8449 14.8C44.8116 14.2667 45.7283 14.1 46.5949 14.3C47.4616 14.5 48.1449 15.05 48.6449 15.95C49.1449 16.8167 49.1783 17.9667 48.7449 19.4L43.2449 35.1ZM74.5633 28.75C74.8633 27.85 75.3966 27.25 76.1633 26.95C76.9633 26.65 77.7299 26.6 78.4633 26.8C79.1966 27 79.7966 27.4167 80.2633 28.05C80.73 28.65 80.7966 29.4 80.4633 30.3C79.6633 32.5667 78.6299 34.5333 77.3633 36.2C76.0966 37.8667 74.6633 39.25 73.0633 40.35C71.4966 41.45 69.8133 42.2667 68.0133 42.8C66.2133 43.3333 64.3966 43.6 62.5633 43.6C60.7299 43.6 59.0466 43.35 57.5133 42.85C56.0133 42.35 54.7133 41.6667 53.6133 40.8C52.5466 39.9333 51.7133 38.9 51.1133 37.7C50.5133 36.4667 50.2133 35.1333 50.2133 33.7C50.2133 32.5667 50.4133 31.4 50.8133 30.2L53.6633 21.8C54.0966 20.5 54.6799 19.3667 55.4133 18.4C56.1799 17.4333 57.0133 16.65 57.9133 16.05C58.8466 15.4167 59.8299 14.95 60.8633 14.65C61.9299 14.35 62.9966 14.2 64.0633 14.2C65.4299 14.2 66.6633 14.5 67.7633 15.1C68.8966 15.7 69.7966 16.5167 70.4633 17.55C71.1633 18.5833 71.5799 19.7667 71.7133 21.1C71.8799 22.4333 71.6966 23.85 71.1633 25.35C70.5966 26.8167 69.8133 27.7667 68.8133 28.2C67.8466 28.6 66.9299 28.65 66.0633 28.35C65.2299 28.05 64.5966 27.5 64.1633 26.7C63.7299 25.8667 63.7633 24.95 64.2633 23.95C64.7299 23.0833 64.8966 22.3333 64.7633 21.7C64.6299 21.0667 64.1799 20.7167 63.4133 20.65C62.9799 20.6167 62.5466 20.7833 62.1133 21.15C61.6799 21.4833 61.3466 21.9667 61.1133 22.6V22.55L58.0133 31.25C57.8133 31.9167 57.7133 32.5167 57.7133 33.05C57.7133 34.3167 58.2133 35.3833 59.2133 36.25C60.2466 37.1167 61.6299 37.55 63.3633 37.55C64.2966 37.55 65.2799 37.4 66.3133 37.1C67.3799 36.7667 68.4133 36.25 69.4133 35.55C70.4133 34.85 71.3633 33.95 72.2633 32.85C73.1633 31.7167 73.9299 30.35 74.5633 28.75ZM101.227 29.05C101.527 28.05 102.077 27.3833 102.877 27.05C103.677 26.7167 104.443 26.6333 105.177 26.8C105.943 26.9667 106.56 27.3667 107.027 28C107.493 28.6 107.577 29.3333 107.277 30.2C106.377 32.8 105.377 34.9667 104.277 36.7C103.177 38.4 102.027 39.7667 100.827 40.8C99.6266 41.8 98.3932 42.5 97.1266 42.9C95.8932 43.3333 94.6766 43.55 93.4766 43.55C92.4099 43.55 91.3766 43.4 90.3766 43.1C89.4099 42.8 88.5432 42.35 87.7766 41.75C87.0099 41.15 86.3932 40.4 85.9266 39.5C85.4599 38.6 85.2266 37.5667 85.2266 36.4C85.2266 35.4 85.4266 34.3 85.8266 33.1V33.15L89.4266 22.9C89.5599 22.6333 89.6266 22.3333 89.6266 22C89.6266 21.5333 89.4599 21.15 89.1266 20.85C88.8266 20.5167 88.4266 20.35 87.9266 20.35C87.1599 20.35 86.3766 20.6667 85.5766 21.3C84.8099 21.9333 84.1599 22.7333 83.6266 23.7L77.6266 40.55C77.1266 41.8833 76.4099 42.75 75.4766 43.15C74.5432 43.5833 73.6599 43.65 72.8266 43.35C71.9932 43.05 71.3432 42.4333 70.8766 41.5C70.4099 40.5333 70.4266 39.35 70.9266 37.95L82.6266 5.2C82.9599 4.13333 83.4099 3.3 83.9766 2.7C84.5432 2.1 85.1432 1.71667 85.7766 1.55C86.4099 1.35 87.0266 1.35 87.6266 1.55C88.2266 1.71667 88.7099 2.05 89.0766 2.55C89.4766 3.01666 89.7266 3.63333 89.8266 4.4C89.9266 5.16667 89.7766 6.03333 89.3766 7L86.6766 14.9C87.6766 14.4667 88.7432 14.25 89.8766 14.25C90.8766 14.25 91.8099 14.4333 92.6766 14.8C93.5766 15.1667 94.3432 15.6667 94.9766 16.3C95.6432 16.9333 96.1599 17.6833 96.5266 18.55C96.8932 19.4167 97.0766 20.35 97.0766 21.35C97.0766 22.2167 96.9266 23.1167 96.6266 24.05L92.5266 35.65C92.4266 35.85 92.3766 36.0667 92.3766 36.3C92.3766 36.6667 92.5099 36.9833 92.7766 37.25C93.0766 37.4833 93.4599 37.6 93.9266 37.6C95.0599 37.6 96.2766 36.9333 97.5766 35.6C98.9099 34.2333 100.127 32.05 101.227 29.05ZM124.833 29.45C125.1 28.5833 125.617 27.9667 126.383 27.6C127.183 27.2333 127.967 27.1167 128.733 27.25C129.533 27.35 130.167 27.6833 130.633 28.25C131.133 28.8167 131.217 29.6 130.883 30.6C130.05 33 128.967 35.0333 127.633 36.7C126.3 38.3333 124.817 39.6667 123.183 40.7C121.55 41.7333 119.833 42.4833 118.033 42.95C116.233 43.4167 114.467 43.65 112.733 43.65C110.9 43.65 109.2 43.4167 107.633 42.95C106.067 42.5167 104.7 41.8833 103.533 41.05C102.4 40.1833 101.5 39.15 100.833 37.95C100.167 36.75 99.8332 35.4 99.8332 33.9C99.8332 33.3333 99.8832 32.75 99.9832 32.15C100.117 31.55 100.283 30.95 100.483 30.35L103.433 21.8C103.867 20.5667 104.45 19.4833 105.183 18.55C105.917 17.5833 106.75 16.7833 107.683 16.15C108.617 15.4833 109.617 15 110.683 14.7C111.783 14.3667 112.883 14.2 113.983 14.2C115.383 14.2 116.667 14.4167 117.833 14.85C119 15.2833 119.983 15.8833 120.783 16.65C121.617 17.3833 122.25 18.2667 122.683 19.3C123.15 20.3 123.383 21.4 123.383 22.6C123.383 23.4333 123.25 24.35 122.983 25.35C122.65 26.4833 122.15 27.5 121.483 28.4C120.85 29.3 120.1 30.0667 119.233 30.7C118.367 31.3333 117.4 31.8333 116.333 32.2C115.3 32.5333 114.217 32.7 113.083 32.7C112.083 32.7 111.133 32.5667 110.233 32.3C109.367 32.0333 108.567 31.6667 107.833 31.2L107.433 32.15C107.267 32.5833 107.183 33.05 107.183 33.55C107.183 34.7167 107.717 35.7 108.783 36.5C109.85 37.3 111.3 37.7 113.133 37.7C114.2 37.7 115.3 37.55 116.433 37.25C117.6 36.9167 118.7 36.4167 119.733 35.75C120.8 35.0833 121.767 34.2333 122.633 33.2C123.533 32.1667 124.267 30.9167 124.833 29.45ZM113.833 20.15C113.267 20.15 112.7 20.3667 112.133 20.8C111.6 21.2 111.183 21.7833 110.883 22.55L109.833 25.55C110.3 25.8167 110.833 26 111.433 26.1C112.067 26.2 112.683 26.2 113.283 26.1C113.883 26 114.417 25.7833 114.883 25.45C115.383 25.0833 115.733 24.5667 115.933 23.9C116.067 23.5333 116.133 23.1333 116.133 22.7C116.133 22 115.917 21.4 115.483 20.9C115.083 20.4 114.533 20.15 113.833 20.15ZM149.765 29.4C150.098 28.4667 150.648 27.8667 151.415 27.6C152.182 27.3333 152.932 27.3 153.665 27.5C154.432 27.7 155.048 28.0833 155.515 28.65C155.982 29.1833 156.098 29.8 155.865 30.5C155.065 32.8 154.048 34.7667 152.815 36.4C151.615 38.0333 150.165 39.3833 148.465 40.45C146.798 41.5167 144.898 42.3167 142.765 42.85C140.632 43.3833 138.248 43.7167 135.615 43.85C135.215 43.9167 134.732 43.9667 134.165 44C133.598 44.0333 133.115 44.05 132.715 44.05C131.282 43.9833 129.915 43.7167 128.615 43.25C127.348 42.7833 126.232 42.1667 125.265 41.4C124.298 40.6 123.532 39.6833 122.965 38.65C122.398 37.5833 122.115 36.4333 122.115 35.2C122.115 34.4 122.215 33.5833 122.415 32.75C122.615 31.9167 122.915 31.1333 123.315 30.4C123.748 29.6667 124.282 29.0333 124.915 28.5C125.548 27.9333 126.282 27.55 127.115 27.35C128.115 25.45 129.132 23.55 130.165 21.65C131.198 19.75 132.198 17.85 133.165 15.95C133.732 15.1167 134.315 14.4833 134.915 14.05C135.515 13.6167 136.098 13.3333 136.665 13.2C136.965 13.1333 137.265 13.0833 137.565 13.05C137.898 13.0167 138.248 13.0333 138.615 13.1V13.05C139.148 13.15 139.648 13.35 140.115 13.65C140.582 13.95 140.965 14.3167 141.265 14.75C141.565 15.15 141.782 15.6167 141.915 16.15C142.048 16.6833 142.082 17.2167 142.015 17.75C141.882 18.45 141.598 19.0833 141.165 19.65C140.765 20.2167 140.232 20.6333 139.565 20.9C139.665 21.6667 139.932 22.4667 140.365 23.3C140.798 24.1333 141.265 24.9833 141.765 25.85C142.465 27.0167 143.132 28.2833 143.765 29.65C144.398 30.9833 144.715 32.3833 144.715 33.85C144.715 34.1833 144.698 34.5 144.665 34.8C144.632 35.1 144.582 35.4167 144.515 35.75C146.848 34.3833 148.598 32.2667 149.765 29.4ZM133.915 28.05C134.615 28.75 135.015 29.6167 135.115 30.65C135.215 31.65 135.048 32.6 134.615 33.5C134.215 34.3667 133.565 35.0667 132.665 35.6C131.765 36.1333 130.682 36.2667 129.415 36C129.682 36.6667 130.148 37.1833 130.815 37.55C131.515 37.8833 132.298 38.05 133.165 38.05C134.032 38.0167 134.782 37.7833 135.415 37.35C136.082 36.8833 136.548 36.2 136.815 35.3C137.215 33.9 137.132 32.4667 136.565 31C136.032 29.5333 135.298 28.2333 134.365 27.1L133.915 28.05Z" fill="#018B3C"/>
    </svg>
    `;
  const Svg = () => <SvgXml xml={svg} width="146" height="64" />;
  return <Svg />;
}

export default function LoginScreen() {
  const [modalLoginVisibility, setModalLoginVisibility] = useState(false);
  const [modalSignInVisibility, setModalSignInVisibility] = useState(false);

  // useEffect(() => {
  //   const backAction = () => {
  //     BackHandler.exitApp();
  //     return true;
  //   };

  //   const backHandler = BackHandler.addEventListener(
  //     'hardwareBackPress',
  //     backAction,
  //   );

  //   return () => backHandler.remove();
  // }, []);

  function handleSetModalLoginVisibility() {
    setModalLoginVisibility(!modalLoginVisibility);
  }

  function handleSetModalSignInVisibility() {
    setModalSignInVisibility(!modalSignInVisibility);
  }

  return (
    <S.Container>
      <RichesSVG />
      <S.Message>
        <S.NormalText>Sua nova</S.NormalText>
        <S.NormalText>vida financeira</S.NormalText>
        <S.LastLineMessage>
          <S.NormalText>começa</S.NormalText>
          <S.BoldText>aqui.</S.BoldText>
        </S.LastLineMessage>
      </S.Message>
      <S.WrapperInitButton>
        <S.InitButton onPress={handleSetModalLoginVisibility}>
          <S.TextButton>Começar</S.TextButton>
        </S.InitButton>
      </S.WrapperInitButton>
      <ModalLogin
        closeModal={handleSetModalLoginVisibility}
        visible={modalLoginVisibility}
        openModalSignIn={handleSetModalSignInVisibility}
      />
      <ModalSignIn
        closeModal={handleSetModalSignInVisibility}
        visible={modalSignInVisibility}
      />
      <StatusBar style="auto" />
    </S.Container>
  );
}
